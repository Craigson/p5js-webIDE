<nav class="{{$root.theme}}">

  <div class="top-nav-left">
    <ul>
      <li>
        <a v-on:click="$root.newProject()">New</a>
      </li>

      <li class="dropdown-menu" v-on:mouseenter="openOpenDropdown" v-on:mouseleave:="closeOpenDropdown"><a>Open</a>

        <div class="dropdown-content {{openDropdownClass}}" v-on:mouseleave=" closeOpenDropdown">
          <!-- v-on="mouseenter: prevDef, mouseleave: clearDef" -->
          <div class="has-submenu"><a>Examples</a>
            <div class="submenu-container">
              <ul class="submenu" style="display:none;" >
                  <li v-for="ex in $root.examples" class="filemenu" data-path="{{ex.path}}" v-on:click="loadExample(ex)">
                    <span >{{ex.folder}} - {{ex.name}}</span>
                  </li>
              </ul>
            </div>
          </div>

          <div class="has-submenu"><a>Recent</a>
            <div class="submenu-container">
              <ul class="submenu" style="display:none;">
                <li v-for="proj in $root.recentProjects">
                  <span data-projectid="{{proj.id}}"  v-on:click="selectRecentProject">
                    <span data-projectid="{{proj.id}}">{{proj.name}}</span> &nbsp;
                      <span class="timeago" data-projectid="{{proj.id}}" title="{{proj.dateModified}}">{{proj.dateModified}}</span>
                  </span>
                </li>
              </ul>
            </div>
          </div>

          <div><a v-on:click="openSketchbook">Sketchbook</a></div>

          <div><a >Upload</a></div>

        </div>
      </li>

      <li class="dropdown-menu" v-on:mouseenter="openSaveDropdown" v-on:mouseleave="closeSaveDropdown"><a >Save</a>
        <span class="dropdown-content {{saveDropdownClass}}" v-on:mouseleave=" closeSaveDropdown">

          <!-- if user owns project... -->
          <span v-if="userOwnsProject" ><a v-on:click="$root.saveToCloud()">Save</a></span>
          <span v-if="userOwnsProject" ><a v-on:click="$root.saveAs()">Save As</a></span>

          <!-- if user does not own project... -->
          <span v-if="!userOwnsProject">

            <a v-if="currentUserID" v-on:click="$root.saveToCloud(currentUser._id)">Save as {{currentUser.username}}</a>
            <a v-if="!currentUserID" v-on:click="$root.saveToCloud('anon')">Save as Anonymous User (not logged in)</a>

          </span>


          <span><a v-on:click="$root.downloadZip()">Download Zip</a></span>
        </span>
      </li>

      <li>
        <a  v-on:click="openShareDialog">Share</a>
      </li>
    </ul>
    <hr>
  </div>

  <div class="top-nav-center">
    <!-- display a message -->
    <span id="toast-msg" class="hidden">{{toastMsg}}</span>
  </div>

  <div class="top-nav-right">
    <ul>
      <li>
        <a>Gallery</a>
      </li>

      <!-- login / profile -->
      <li v-if="!loggedIn" v-on:click="$root.authenticate()">
        <a>Log in</a>
      </li>

<!--       <li v-if="loggedIn" v-on="click: $root.authenticate()">
        <a> Hello <b>{{currentUser.username}}</b> !</a>
      </li>
 -->
      <li v-if="loggedIn" class="dropdown-menu" v-on:mouseenter="openUserDropdown" v-on:mouseleave="closeUserDropdown"><a> Hello <b>{{currentUser.username}}</b> !</a>
        <span class="dropdown-content {{userDropdownClass}}" v-on:mouseleave="closeUserDropdown">
          <span><a v-on:click="$root.logOut()">Log Out</a></span>
        </span>
      </li>


    </ul>
    <hr>
  </div>

</nav>
